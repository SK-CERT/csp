CREATE USER IF NOT EXISTS SA SALT 'b1ec695a1b8c343b' HASH '73b1de9aabbd62469e010498e8f329e9b2e9fc4da456086258e6be03045e39a9' ADMIN;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_EE6591BD_5399_469E_82FF_1669FD625CE0 START WITH 2 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_AD672C9E_8A12_49EB_B4B9_16F684BEEDD5 START WITH 2 BELONGS_TO_TABLE;
CREATE SEQUENCE PUBLIC.SYSTEM_SEQUENCE_FE645532_B11A_4080_B198_4D15B9CB7B36 START WITH 131 BELONGS_TO_TABLE;
CREATE MEMORY TABLE PUBLIC.MAPPING(
  ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_AD672C9E_8A12_49EB_B4B9_16F684BEEDD5) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_AD672C9E_8A12_49EB_B4B9_16F684BEEDD5,
  CSP_ID VARCHAR(255) NOT NULL,
  DATA_TYPE INTEGER NOT NULL,
  RULESET BIGINT NOT NULL
);
ALTER TABLE PUBLIC.MAPPING ADD CONSTRAINT PUBLIC.CONSTRAINT_5 PRIMARY KEY(ID);
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.MAPPING;
INSERT INTO PUBLIC.MAPPING(ID, CSP_ID, DATA_TYPE, RULESET) VALUES
  (1, 'CERT-BUND', 9, 1);
CREATE MEMORY TABLE PUBLIC.RULE_SET(
  ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_EE6591BD_5399_469E_82FF_1669FD625CE0) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_EE6591BD_5399_469E_82FF_1669FD625CE0,
  DESCRIPTION VARCHAR(255) NOT NULL,
  FILE BINARY(2097152) NOT NULL,
  FILENAME VARCHAR(255) NOT NULL
);
ALTER TABLE PUBLIC.RULE_SET ADD CONSTRAINT PUBLIC.CONSTRAINT_5C PRIMARY KEY(ID);
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.RULE_SET;
INSERT INTO PUBLIC.RULE_SET(ID, DESCRIPTION, FILE, FILENAME) VALUES
  (1, 'ruleset 2 description', X'7b0a20202272756c6573223a205b0a202020207b0a202020202020226669656c64223a2022242e7472757374636972636c652e73686f72745f6e616d65222c0a20202020202022616374696f6e223a2022616e6f6e222c0a202020202020226669656c6474797065223a2022737472696e67220a202020207d2c0a202020207b0a202020202020226669656c64223a2022242e7472757374636972636c652e63726561746564222c0a20202020202022616374696f6e223a202270736575646f222c0a202020202020226669656c6474797065223a2022737472696e67220a202020207d2c0a20202020207b0a202020202020226669656c64223a2022242e7472757374636972636c652e7465616d735b2a5d2e6465736372697074696f6e222c0a20202020202022616374696f6e223a2022616e6f6e222c0a202020202020226669656c6474797065223a2022737472696e67220a202020207d2c0a202020207b0a202020202020226669656c64223a2022242e7472757374636972636c652e7465616d735b2a5d2e7468656970222c0a20202020202022616374696f6e223a2022616e6f6e222c0a202020202020226669656c6474797065223a20226970220a202020207d2c0a202020207b0a202020202020226669656c64223a2022242e7472757374636972636c652e7465616d735b2a5d2e746865656d61696c222c0a20202020202022616374696f6e223a2022616e6f6e222c0a202020202020226669656c6474797065223a2022656d61696c220a202020207d0a20205d0a7d0a', 'rule2.json');
CREATE MEMORY TABLE PUBLIC.SECRET_KEY(
  ID BIGINT DEFAULT (NEXT VALUE FOR PUBLIC.SYSTEM_SEQUENCE_FE645532_B11A_4080_B198_4D15B9CB7B36) NOT NULL NULL_TO_DEFAULT SEQUENCE PUBLIC.SYSTEM_SEQUENCE_FE645532_B11A_4080_B198_4D15B9CB7B36,
  CREATED_AT TIMESTAMP,
  SECKEY VARCHAR(255)
);
ALTER TABLE PUBLIC.SECRET_KEY ADD CONSTRAINT PUBLIC.CONSTRAINT_C PRIMARY KEY(ID);
-- 130 +/- SELECT COUNT(*) FROM PUBLIC.SECRET_KEY;
INSERT INTO PUBLIC.SECRET_KEY(ID, CREATED_AT, SECKEY) VALUES
  (1, TIMESTAMP '2017-08-16 11:06:09.437', 'f823688b-1b23-4153-a8f3-84117af12e49'),
  (2, TIMESTAMP '2017-08-16 11:06:10.743', 'f7b709fe-92d6-4719-843a-110b4ab0a27c');
ALTER TABLE PUBLIC.MAPPING ADD CONSTRAINT PUBLIC.FKM61TMUFCROHYMUVPALTWB31LL FOREIGN KEY(RULESET) REFERENCES PUBLIC.RULE_SET(ID) NOCHECK;
